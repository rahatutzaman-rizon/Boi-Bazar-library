var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));

// node_modules/load-script/index.js
var require_load_script = __commonJS({
  "node_modules/load-script/index.js"(exports, module) {
    module.exports = function load(src, opts, cb) {
      var head = document.head || document.getElementsByTagName("head")[0];
      var script = document.createElement("script");
      if (typeof opts === "function") {
        cb = opts;
        opts = {};
      }
      opts = opts || {};
      cb = cb || function() {
      };
      script.type = opts.type || "text/javascript";
      script.charset = opts.charset || "utf8";
      script.async = "async" in opts ? !!opts.async : true;
      script.src = src;
      if (opts.attrs) {
        setAttributes(script, opts.attrs);
      }
      if (opts.text) {
        script.text = "" + opts.text;
      }
      var onend = "onload" in script ? stdOnEnd : ieOnEnd;
      onend(script, cb);
      if (!script.onload) {
        stdOnEnd(script, cb);
      }
      head.appendChild(script);
    };
    function setAttributes(script, attrs) {
      for (var attr in attrs) {
        script.setAttribute(attr, attrs[attr]);
      }
    }
    function stdOnEnd(script, cb) {
      script.onload = function() {
        this.onerror = this.onload = null;
        cb(null, script);
      };
      script.onerror = function() {
        this.onerror = this.onload = null;
        cb(new Error("Failed to load " + this.src), script);
      };
    }
    function ieOnEnd(script, cb) {
      script.onreadystatechange = function() {
        if (this.readyState != "complete" && this.readyState != "loaded")
          return;
        this.onreadystatechange = null;
        cb(null, script);
      };
    }
  }
});

// node_modules/deepmerge/dist/cjs.js
var require_cjs = __commonJS({
  "node_modules/deepmerge/dist/cjs.js"(exports, module) {
    "use strict";
    var isMergeableObject = function isMergeableObject2(value) {
      return isNonNullObject(value) && !isSpecial(value);
    };
    function isNonNullObject(value) {
      return !!value && typeof value === "object";
    }
    function isSpecial(value) {
      var stringValue = Object.prototype.toString.call(value);
      return stringValue === "[object RegExp]" || stringValue === "[object Date]" || isReactElement(value);
    }
    var canUseSymbol = typeof Symbol === "function" && Symbol.for;
    var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for("react.element") : 60103;
    function isReactElement(value) {
      return value.$$typeof === REACT_ELEMENT_TYPE;
    }
    function emptyTarget(val) {
      return Array.isArray(val) ? [] : {};
    }
    function cloneUnlessOtherwiseSpecified(value, options) {
      return options.clone !== false && options.isMergeableObject(value) ? deepmerge(emptyTarget(value), value, options) : value;
    }
    function defaultArrayMerge(target, source, options) {
      return target.concat(source).map(function(element) {
        return cloneUnlessOtherwiseSpecified(element, options);
      });
    }
    function getMergeFunction(key, options) {
      if (!options.customMerge) {
        return deepmerge;
      }
      var customMerge = options.customMerge(key);
      return typeof customMerge === "function" ? customMerge : deepmerge;
    }
    function getEnumerableOwnPropertySymbols(target) {
      return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(target).filter(function(symbol) {
        return Object.propertyIsEnumerable.call(target, symbol);
      }) : [];
    }
    function getKeys(target) {
      return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target));
    }
    function propertyIsOnObject(object, property) {
      try {
        return property in object;
      } catch (_) {
        return false;
      }
    }
    function propertyIsUnsafe(target, key) {
      return propertyIsOnObject(target, key) && !(Object.hasOwnProperty.call(target, key) && Object.propertyIsEnumerable.call(target, key));
    }
    function mergeObject(target, source, options) {
      var destination = {};
      if (options.isMergeableObject(target)) {
        getKeys(target).forEach(function(key) {
          destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);
        });
      }
      getKeys(source).forEach(function(key) {
        if (propertyIsUnsafe(target, key)) {
          return;
        }
        if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {
          destination[key] = getMergeFunction(key, options)(target[key], source[key], options);
        } else {
          destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);
        }
      });
      return destination;
    }
    function deepmerge(target, source, options) {
      options = options || {};
      options.arrayMerge = options.arrayMerge || defaultArrayMerge;
      options.isMergeableObject = options.isMergeableObject || isMergeableObject;
      options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;
      var sourceIsArray = Array.isArray(source);
      var targetIsArray = Array.isArray(target);
      var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;
      if (!sourceAndTargetTypesMatch) {
        return cloneUnlessOtherwiseSpecified(source, options);
      } else if (sourceIsArray) {
        return options.arrayMerge(target, source, options);
      } else {
        return mergeObject(target, source, options);
      }
    }
    deepmerge.all = function deepmergeAll(array, options) {
      if (!Array.isArray(array)) {
        throw new Error("first argument should be an array");
      }
      return array.reduce(function(prev, next) {
        return deepmerge(prev, next, options);
      }, {});
    };
    var deepmerge_1 = deepmerge;
    module.exports = deepmerge_1;
  }
});

// test/utils/parseEndTime.js
import { test } from "zora";

// src/utils.js
var import_load_script = __toESM(require_load_script());
var import_deepmerge = __toESM(require_cjs());
var MATCH_END_QUERY = /[?&#]end=([0-9hms]+)/;
var MATCH_START_STAMP = /(\d+)(h|m|s)/g;
var MATCH_NUMERIC = /^\d+$/;
function parseTimeParam(url, pattern) {
  if (url instanceof Array) {
    return void 0;
  }
  const match = url.match(pattern);
  if (match) {
    const stamp = match[1];
    if (stamp.match(MATCH_START_STAMP)) {
      return parseTimeString(stamp);
    }
    if (MATCH_NUMERIC.test(stamp)) {
      return parseInt(stamp);
    }
  }
  return void 0;
}
function parseTimeString(stamp) {
  let seconds = 0;
  let array = MATCH_START_STAMP.exec(stamp);
  while (array !== null) {
    const [, count, period] = array;
    if (period === "h")
      seconds += parseInt(count, 10) * 60 * 60;
    if (period === "m")
      seconds += parseInt(count, 10) * 60;
    if (period === "s")
      seconds += parseInt(count, 10);
    array = MATCH_START_STAMP.exec(stamp);
  }
  return seconds;
}
function parseEndTime(url) {
  return parseTimeParam(url, MATCH_END_QUERY);
}
function getGlobal(key) {
  if (window[key]) {
    return window[key];
  }
  if (window.exports && window.exports[key]) {
    return window.exports[key];
  }
  if (window.module && window.module.exports && window.module.exports[key]) {
    return window.module.exports[key];
  }
  return null;
}
var requests = {};
var getSDK = enableStubOn(function getSDK2(url, sdkGlobal, sdkReady = null, isLoaded = () => true, fetchScript = import_load_script.default) {
  const existingGlobal = getGlobal(sdkGlobal);
  if (existingGlobal && isLoaded(existingGlobal)) {
    return Promise.resolve(existingGlobal);
  }
  return new Promise((resolve, reject) => {
    if (requests[url]) {
      requests[url].push({ resolve, reject });
      return;
    }
    requests[url] = [{ resolve, reject }];
    const onLoaded = (sdk) => {
      requests[url].forEach((request) => request.resolve(sdk));
    };
    if (sdkReady) {
      const previousOnReady = window[sdkReady];
      window[sdkReady] = function() {
        if (previousOnReady)
          previousOnReady();
        onLoaded(getGlobal(sdkGlobal));
      };
    }
    fetchScript(url, (err) => {
      if (err) {
        requests[url].forEach((request) => request.reject(err));
        requests[url] = null;
      } else if (!sdkReady) {
        onLoaded(getGlobal(sdkGlobal));
      }
    });
  });
});
function enableStubOn(fn) {
  if (true) {
    const wrap = (...args) => wrap.stub(...args);
    wrap.stub = fn;
    return wrap;
  }
  return fn;
}

// test/utils/parseEndTime.js
var YOUTUBE_URL = "http://youtu.be/12345678901";
test("parses seconds", (t) => {
  t.is(parseEndTime(YOUTUBE_URL + "?end=162"), 162);
});
test("parses stamps", (t) => {
  t.is(parseEndTime(YOUTUBE_URL + "?end=48s"), 48);
  t.is(parseEndTime(YOUTUBE_URL + "?end=3m15s"), 195);
  t.is(parseEndTime(YOUTUBE_URL + "?end=1h36m17s"), 5777);
});
test("parses with other params", (t) => {
  t.is(parseEndTime(YOUTUBE_URL + "?param=1&end=32"), 32);
});
test("parses using a hash", (t) => {
  t.is(parseEndTime(YOUTUBE_URL + "#end=32"), 32);
});
test("returns undefined for invalid stamps", (t) => {
  t.is(parseEndTime(YOUTUBE_URL), void 0);
  t.is(parseEndTime(YOUTUBE_URL + "?end="), void 0);
  t.is(parseEndTime(YOUTUBE_URL + "?end=hms"), void 0);
  t.is(parseEndTime(YOUTUBE_URL + "?end=invalid"), void 0);
  t.is(parseEndTime(YOUTUBE_URL + "?strat=32"), void 0);
  t.is(parseEndTime(YOUTUBE_URL + "#s=32"), void 0);
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2xvYWQtc2NyaXB0L2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9kZWVwbWVyZ2UvZGlzdC9janMuanMiLCAiLi4vLi4vdGVzdC91dGlscy9wYXJzZUVuZFRpbWUuanMiLCAiLi4vLi4vc3JjL3V0aWxzLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbG9hZCAoc3JjLCBvcHRzLCBjYikge1xuICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXVxuICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JylcblxuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IG9wdHNcbiAgICBvcHRzID0ge31cbiAgfVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9XG4gIGNiID0gY2IgfHwgZnVuY3Rpb24oKSB7fVxuXG4gIHNjcmlwdC50eXBlID0gb3B0cy50eXBlIHx8ICd0ZXh0L2phdmFzY3JpcHQnXG4gIHNjcmlwdC5jaGFyc2V0ID0gb3B0cy5jaGFyc2V0IHx8ICd1dGY4JztcbiAgc2NyaXB0LmFzeW5jID0gJ2FzeW5jJyBpbiBvcHRzID8gISFvcHRzLmFzeW5jIDogdHJ1ZVxuICBzY3JpcHQuc3JjID0gc3JjXG5cbiAgaWYgKG9wdHMuYXR0cnMpIHtcbiAgICBzZXRBdHRyaWJ1dGVzKHNjcmlwdCwgb3B0cy5hdHRycylcbiAgfVxuXG4gIGlmIChvcHRzLnRleHQpIHtcbiAgICBzY3JpcHQudGV4dCA9ICcnICsgb3B0cy50ZXh0XG4gIH1cblxuICB2YXIgb25lbmQgPSAnb25sb2FkJyBpbiBzY3JpcHQgPyBzdGRPbkVuZCA6IGllT25FbmRcbiAgb25lbmQoc2NyaXB0LCBjYilcblxuICAvLyBzb21lIGdvb2QgbGVnYWN5IGJyb3dzZXJzIChmaXJlZm94KSBmYWlsIHRoZSAnaW4nIGRldGVjdGlvbiBhYm92ZVxuICAvLyBzbyBhcyBhIGZhbGxiYWNrIHdlIGFsd2F5cyBzZXQgb25sb2FkXG4gIC8vIG9sZCBJRSB3aWxsIGlnbm9yZSB0aGlzIGFuZCBuZXcgSUUgd2lsbCBzZXQgb25sb2FkXG4gIGlmICghc2NyaXB0Lm9ubG9hZCkge1xuICAgIHN0ZE9uRW5kKHNjcmlwdCwgY2IpO1xuICB9XG5cbiAgaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpXG59XG5cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMoc2NyaXB0LCBhdHRycykge1xuICBmb3IgKHZhciBhdHRyIGluIGF0dHJzKSB7XG4gICAgc2NyaXB0LnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyc1thdHRyXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RkT25FbmQgKHNjcmlwdCwgY2IpIHtcbiAgc2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm9uZXJyb3IgPSB0aGlzLm9ubG9hZCA9IG51bGxcbiAgICBjYihudWxsLCBzY3JpcHQpXG4gIH1cbiAgc2NyaXB0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gdGhpcy5vbmxvYWQgPSBudWxsIGhlcmUgaXMgbmVjZXNzYXJ5XG4gICAgLy8gYmVjYXVzZSBldmVuIElFOSB3b3JrcyBub3QgbGlrZSBvdGhlcnNcbiAgICB0aGlzLm9uZXJyb3IgPSB0aGlzLm9ubG9hZCA9IG51bGxcbiAgICBjYihuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkICcgKyB0aGlzLnNyYyksIHNjcmlwdClcbiAgfVxufVxuXG5mdW5jdGlvbiBpZU9uRW5kIChzY3JpcHQsIGNiKSB7XG4gIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSAhPSAnY29tcGxldGUnICYmIHRoaXMucmVhZHlTdGF0ZSAhPSAnbG9hZGVkJykgcmV0dXJuXG4gICAgdGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsXG4gICAgY2IobnVsbCwgc2NyaXB0KSAvLyB0aGVyZSBpcyBubyB3YXkgdG8gY2F0Y2ggbG9hZGluZyBlcnJvcnMgaW4gSUU4XG4gIH1cbn1cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBpc01lcmdlYWJsZU9iamVjdCA9IGZ1bmN0aW9uIGlzTWVyZ2VhYmxlT2JqZWN0KHZhbHVlKSB7XG5cdHJldHVybiBpc05vbk51bGxPYmplY3QodmFsdWUpXG5cdFx0JiYgIWlzU3BlY2lhbCh2YWx1ZSlcbn07XG5cbmZ1bmN0aW9uIGlzTm9uTnVsbE9iamVjdCh2YWx1ZSkge1xuXHRyZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnXG59XG5cbmZ1bmN0aW9uIGlzU3BlY2lhbCh2YWx1ZSkge1xuXHR2YXIgc3RyaW5nVmFsdWUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG5cdHJldHVybiBzdHJpbmdWYWx1ZSA9PT0gJ1tvYmplY3QgUmVnRXhwXSdcblx0XHR8fCBzdHJpbmdWYWx1ZSA9PT0gJ1tvYmplY3QgRGF0ZV0nXG5cdFx0fHwgaXNSZWFjdEVsZW1lbnQodmFsdWUpXG59XG5cbi8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iNWFjOTYzZmI3OTFkMTI5OGU3ZjM5NjIzNjM4M2JjOTU1ZjkxNmMxL3NyYy9pc29tb3JwaGljL2NsYXNzaWMvZWxlbWVudC9SZWFjdEVsZW1lbnQuanMjTDIxLUwyNVxudmFyIGNhblVzZVN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmZvcjtcbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBjYW5Vc2VTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgOiAweGVhYzc7XG5cbmZ1bmN0aW9uIGlzUmVhY3RFbGVtZW50KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG59XG5cbmZ1bmN0aW9uIGVtcHR5VGFyZ2V0KHZhbCkge1xuXHRyZXR1cm4gQXJyYXkuaXNBcnJheSh2YWwpID8gW10gOiB7fVxufVxuXG5mdW5jdGlvbiBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZCh2YWx1ZSwgb3B0aW9ucykge1xuXHRyZXR1cm4gKG9wdGlvbnMuY2xvbmUgIT09IGZhbHNlICYmIG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3QodmFsdWUpKVxuXHRcdD8gZGVlcG1lcmdlKGVtcHR5VGFyZ2V0KHZhbHVlKSwgdmFsdWUsIG9wdGlvbnMpXG5cdFx0OiB2YWx1ZVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0QXJyYXlNZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHRyZXR1cm4gdGFyZ2V0LmNvbmNhdChzb3VyY2UpLm1hcChmdW5jdGlvbihlbGVtZW50KSB7XG5cdFx0cmV0dXJuIGNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkKGVsZW1lbnQsIG9wdGlvbnMpXG5cdH0pXG59XG5cbmZ1bmN0aW9uIGdldE1lcmdlRnVuY3Rpb24oa2V5LCBvcHRpb25zKSB7XG5cdGlmICghb3B0aW9ucy5jdXN0b21NZXJnZSkge1xuXHRcdHJldHVybiBkZWVwbWVyZ2Vcblx0fVxuXHR2YXIgY3VzdG9tTWVyZ2UgPSBvcHRpb25zLmN1c3RvbU1lcmdlKGtleSk7XG5cdHJldHVybiB0eXBlb2YgY3VzdG9tTWVyZ2UgPT09ICdmdW5jdGlvbicgPyBjdXN0b21NZXJnZSA6IGRlZXBtZXJnZVxufVxuXG5mdW5jdGlvbiBnZXRFbnVtZXJhYmxlT3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkge1xuXHRyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc1xuXHRcdD8gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpLmZpbHRlcihmdW5jdGlvbihzeW1ib2wpIHtcblx0XHRcdHJldHVybiBPYmplY3QucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0YXJnZXQsIHN5bWJvbClcblx0XHR9KVxuXHRcdDogW11cbn1cblxuZnVuY3Rpb24gZ2V0S2V5cyh0YXJnZXQpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKHRhcmdldCkuY29uY2F0KGdldEVudW1lcmFibGVPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSlcbn1cblxuZnVuY3Rpb24gcHJvcGVydHlJc09uT2JqZWN0KG9iamVjdCwgcHJvcGVydHkpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gcHJvcGVydHkgaW4gb2JqZWN0XG5cdH0gY2F0Y2goXykge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9XG59XG5cbi8vIFByb3RlY3RzIGZyb20gcHJvdG90eXBlIHBvaXNvbmluZyBhbmQgdW5leHBlY3RlZCBtZXJnaW5nIHVwIHRoZSBwcm90b3R5cGUgY2hhaW4uXG5mdW5jdGlvbiBwcm9wZXJ0eUlzVW5zYWZlKHRhcmdldCwga2V5KSB7XG5cdHJldHVybiBwcm9wZXJ0eUlzT25PYmplY3QodGFyZ2V0LCBrZXkpIC8vIFByb3BlcnRpZXMgYXJlIHNhZmUgdG8gbWVyZ2UgaWYgdGhleSBkb24ndCBleGlzdCBpbiB0aGUgdGFyZ2V0IHlldCxcblx0XHQmJiAhKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSAvLyB1bnNhZmUgaWYgdGhleSBleGlzdCB1cCB0aGUgcHJvdG90eXBlIGNoYWluLFxuXHRcdFx0JiYgT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodGFyZ2V0LCBrZXkpKSAvLyBhbmQgYWxzbyB1bnNhZmUgaWYgdGhleSdyZSBub25lbnVtZXJhYmxlLlxufVxuXG5mdW5jdGlvbiBtZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHR2YXIgZGVzdGluYXRpb24gPSB7fTtcblx0aWYgKG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3QodGFyZ2V0KSkge1xuXHRcdGdldEtleXModGFyZ2V0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0ZGVzdGluYXRpb25ba2V5XSA9IGNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkKHRhcmdldFtrZXldLCBvcHRpb25zKTtcblx0XHR9KTtcblx0fVxuXHRnZXRLZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRpZiAocHJvcGVydHlJc1Vuc2FmZSh0YXJnZXQsIGtleSkpIHtcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdGlmIChwcm9wZXJ0eUlzT25PYmplY3QodGFyZ2V0LCBrZXkpICYmIG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3Qoc291cmNlW2tleV0pKSB7XG5cdFx0XHRkZXN0aW5hdGlvbltrZXldID0gZ2V0TWVyZ2VGdW5jdGlvbihrZXksIG9wdGlvbnMpKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlc3RpbmF0aW9uW2tleV0gPSBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZChzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIGRlc3RpbmF0aW9uXG59XG5cbmZ1bmN0aW9uIGRlZXBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0b3B0aW9ucy5hcnJheU1lcmdlID0gb3B0aW9ucy5hcnJheU1lcmdlIHx8IGRlZmF1bHRBcnJheU1lcmdlO1xuXHRvcHRpb25zLmlzTWVyZ2VhYmxlT2JqZWN0ID0gb3B0aW9ucy5pc01lcmdlYWJsZU9iamVjdCB8fCBpc01lcmdlYWJsZU9iamVjdDtcblx0Ly8gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQgaXMgYWRkZWQgdG8gYG9wdGlvbnNgIHNvIHRoYXQgY3VzdG9tIGFycmF5TWVyZ2UoKVxuXHQvLyBpbXBsZW1lbnRhdGlvbnMgY2FuIHVzZSBpdC4gVGhlIGNhbGxlciBtYXkgbm90IHJlcGxhY2UgaXQuXG5cdG9wdGlvbnMuY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQgPSBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZDtcblxuXHR2YXIgc291cmNlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkoc291cmNlKTtcblx0dmFyIHRhcmdldElzQXJyYXkgPSBBcnJheS5pc0FycmF5KHRhcmdldCk7XG5cdHZhciBzb3VyY2VBbmRUYXJnZXRUeXBlc01hdGNoID0gc291cmNlSXNBcnJheSA9PT0gdGFyZ2V0SXNBcnJheTtcblxuXHRpZiAoIXNvdXJjZUFuZFRhcmdldFR5cGVzTWF0Y2gpIHtcblx0XHRyZXR1cm4gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQoc291cmNlLCBvcHRpb25zKVxuXHR9IGVsc2UgaWYgKHNvdXJjZUlzQXJyYXkpIHtcblx0XHRyZXR1cm4gb3B0aW9ucy5hcnJheU1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zKVxuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBtZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucylcblx0fVxufVxuXG5kZWVwbWVyZ2UuYWxsID0gZnVuY3Rpb24gZGVlcG1lcmdlQWxsKGFycmF5LCBvcHRpb25zKSB7XG5cdGlmICghQXJyYXkuaXNBcnJheShhcnJheSkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2ZpcnN0IGFyZ3VtZW50IHNob3VsZCBiZSBhbiBhcnJheScpXG5cdH1cblxuXHRyZXR1cm4gYXJyYXkucmVkdWNlKGZ1bmN0aW9uKHByZXYsIG5leHQpIHtcblx0XHRyZXR1cm4gZGVlcG1lcmdlKHByZXYsIG5leHQsIG9wdGlvbnMpXG5cdH0sIHt9KVxufTtcblxudmFyIGRlZXBtZXJnZV8xID0gZGVlcG1lcmdlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZXBtZXJnZV8xO1xuIiwgImltcG9ydCB7IHRlc3QgfSBmcm9tICd6b3JhJ1xuaW1wb3J0IHsgcGFyc2VFbmRUaW1lIH0gZnJvbSAnLi4vLi4vc3JjL3V0aWxzJ1xuXG5jb25zdCBZT1VUVUJFX1VSTCA9ICdodHRwOi8veW91dHUuYmUvMTIzNDU2Nzg5MDEnXG5cbnRlc3QoJ3BhcnNlcyBzZWNvbmRzJywgdCA9PiB7XG4gIHQuaXMocGFyc2VFbmRUaW1lKFlPVVRVQkVfVVJMICsgJz9lbmQ9MTYyJyksIDE2Milcbn0pXG5cbnRlc3QoJ3BhcnNlcyBzdGFtcHMnLCB0ID0+IHtcbiAgdC5pcyhwYXJzZUVuZFRpbWUoWU9VVFVCRV9VUkwgKyAnP2VuZD00OHMnKSwgNDgpXG4gIHQuaXMocGFyc2VFbmRUaW1lKFlPVVRVQkVfVVJMICsgJz9lbmQ9M20xNXMnKSwgMTk1KVxuICB0LmlzKHBhcnNlRW5kVGltZShZT1VUVUJFX1VSTCArICc/ZW5kPTFoMzZtMTdzJyksIDU3NzcpXG59KVxuXG50ZXN0KCdwYXJzZXMgd2l0aCBvdGhlciBwYXJhbXMnLCB0ID0+IHtcbiAgdC5pcyhwYXJzZUVuZFRpbWUoWU9VVFVCRV9VUkwgKyAnP3BhcmFtPTEmZW5kPTMyJyksIDMyKVxufSlcblxudGVzdCgncGFyc2VzIHVzaW5nIGEgaGFzaCcsIHQgPT4ge1xuICB0LmlzKHBhcnNlRW5kVGltZShZT1VUVUJFX1VSTCArICcjZW5kPTMyJyksIDMyKVxufSlcblxudGVzdCgncmV0dXJucyB1bmRlZmluZWQgZm9yIGludmFsaWQgc3RhbXBzJywgdCA9PiB7XG4gIHQuaXMocGFyc2VFbmRUaW1lKFlPVVRVQkVfVVJMKSwgdW5kZWZpbmVkKVxuICB0LmlzKHBhcnNlRW5kVGltZShZT1VUVUJFX1VSTCArICc/ZW5kPScpLCB1bmRlZmluZWQpXG4gIHQuaXMocGFyc2VFbmRUaW1lKFlPVVRVQkVfVVJMICsgJz9lbmQ9aG1zJyksIHVuZGVmaW5lZClcbiAgdC5pcyhwYXJzZUVuZFRpbWUoWU9VVFVCRV9VUkwgKyAnP2VuZD1pbnZhbGlkJyksIHVuZGVmaW5lZClcbiAgdC5pcyhwYXJzZUVuZFRpbWUoWU9VVFVCRV9VUkwgKyAnP3N0cmF0PTMyJyksIHVuZGVmaW5lZClcbiAgdC5pcyhwYXJzZUVuZFRpbWUoWU9VVFVCRV9VUkwgKyAnI3M9MzInKSwgdW5kZWZpbmVkKVxufSlcbiIsICJpbXBvcnQgbG9hZFNjcmlwdCBmcm9tICdsb2FkLXNjcmlwdCdcbmltcG9ydCBtZXJnZSBmcm9tICdkZWVwbWVyZ2UnXG5cbmNvbnN0IE1BVENIX1NUQVJUX1FVRVJZID0gL1s/JiNdKD86c3RhcnR8dCk9KFswLTlobXNdKykvXG5jb25zdCBNQVRDSF9FTkRfUVVFUlkgPSAvWz8mI11lbmQ9KFswLTlobXNdKykvXG5jb25zdCBNQVRDSF9TVEFSVF9TVEFNUCA9IC8oXFxkKykoaHxtfHMpL2dcbmNvbnN0IE1BVENIX05VTUVSSUMgPSAvXlxcZCskL1xuXG4vLyBQYXJzZSBZb3VUdWJlIFVSTCBmb3IgYSBzdGFydCB0aW1lIHBhcmFtLCBpZSA/dD0xaDE0bTMwc1xuLy8gYW5kIHJldHVybiB0aGUgc3RhcnQgdGltZSBpbiBzZWNvbmRzXG5mdW5jdGlvbiBwYXJzZVRpbWVQYXJhbSAodXJsLCBwYXR0ZXJuKSB7XG4gIGlmICh1cmwgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuICBjb25zdCBtYXRjaCA9IHVybC5tYXRjaChwYXR0ZXJuKVxuICBpZiAobWF0Y2gpIHtcbiAgICBjb25zdCBzdGFtcCA9IG1hdGNoWzFdXG4gICAgaWYgKHN0YW1wLm1hdGNoKE1BVENIX1NUQVJUX1NUQU1QKSkge1xuICAgICAgcmV0dXJuIHBhcnNlVGltZVN0cmluZyhzdGFtcClcbiAgICB9XG4gICAgaWYgKE1BVENIX05VTUVSSUMudGVzdChzdGFtcCkpIHtcbiAgICAgIHJldHVybiBwYXJzZUludChzdGFtcClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZFxufVxuXG5mdW5jdGlvbiBwYXJzZVRpbWVTdHJpbmcgKHN0YW1wKSB7XG4gIGxldCBzZWNvbmRzID0gMFxuICBsZXQgYXJyYXkgPSBNQVRDSF9TVEFSVF9TVEFNUC5leGVjKHN0YW1wKVxuICB3aGlsZSAoYXJyYXkgIT09IG51bGwpIHtcbiAgICBjb25zdCBbLCBjb3VudCwgcGVyaW9kXSA9IGFycmF5XG4gICAgaWYgKHBlcmlvZCA9PT0gJ2gnKSBzZWNvbmRzICs9IHBhcnNlSW50KGNvdW50LCAxMCkgKiA2MCAqIDYwXG4gICAgaWYgKHBlcmlvZCA9PT0gJ20nKSBzZWNvbmRzICs9IHBhcnNlSW50KGNvdW50LCAxMCkgKiA2MFxuICAgIGlmIChwZXJpb2QgPT09ICdzJykgc2Vjb25kcyArPSBwYXJzZUludChjb3VudCwgMTApXG4gICAgYXJyYXkgPSBNQVRDSF9TVEFSVF9TVEFNUC5leGVjKHN0YW1wKVxuICB9XG4gIHJldHVybiBzZWNvbmRzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0YXJ0VGltZSAodXJsKSB7XG4gIHJldHVybiBwYXJzZVRpbWVQYXJhbSh1cmwsIE1BVENIX1NUQVJUX1FVRVJZKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VFbmRUaW1lICh1cmwpIHtcbiAgcmV0dXJuIHBhcnNlVGltZVBhcmFtKHVybCwgTUFUQ0hfRU5EX1FVRVJZKVxufVxuXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zODYyMjU0NVxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVN0cmluZyAoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5U3RyaW5nIChvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdFxuICAgIC5rZXlzKG9iamVjdClcbiAgICAubWFwKGtleSA9PiBgJHtrZXl9PSR7b2JqZWN0W2tleV19YClcbiAgICAuam9pbignJicpXG59XG5cbmZ1bmN0aW9uIGdldEdsb2JhbCAoa2V5KSB7XG4gIGlmICh3aW5kb3dba2V5XSkge1xuICAgIHJldHVybiB3aW5kb3dba2V5XVxuICB9XG4gIGlmICh3aW5kb3cuZXhwb3J0cyAmJiB3aW5kb3cuZXhwb3J0c1trZXldKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5leHBvcnRzW2tleV1cbiAgfVxuICBpZiAod2luZG93Lm1vZHVsZSAmJiB3aW5kb3cubW9kdWxlLmV4cG9ydHMgJiYgd2luZG93Lm1vZHVsZS5leHBvcnRzW2tleV0pIHtcbiAgICByZXR1cm4gd2luZG93Lm1vZHVsZS5leHBvcnRzW2tleV1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG4vLyBVdGlsIGZ1bmN0aW9uIHRvIGxvYWQgYW4gZXh0ZXJuYWwgU0RLXG4vLyBvciByZXR1cm4gdGhlIFNESyBpZiBpdCBpcyBhbHJlYWR5IGxvYWRlZFxuY29uc3QgcmVxdWVzdHMgPSB7fVxuZXhwb3J0IGNvbnN0IGdldFNESyA9IGVuYWJsZVN0dWJPbihmdW5jdGlvbiBnZXRTREsgKHVybCwgc2RrR2xvYmFsLCBzZGtSZWFkeSA9IG51bGwsIGlzTG9hZGVkID0gKCkgPT4gdHJ1ZSwgZmV0Y2hTY3JpcHQgPSBsb2FkU2NyaXB0KSB7XG4gIGNvbnN0IGV4aXN0aW5nR2xvYmFsID0gZ2V0R2xvYmFsKHNka0dsb2JhbClcbiAgaWYgKGV4aXN0aW5nR2xvYmFsICYmIGlzTG9hZGVkKGV4aXN0aW5nR2xvYmFsKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZXhpc3RpbmdHbG9iYWwpXG4gIH1cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAvLyBJZiB3ZSBhcmUgYWxyZWFkeSBsb2FkaW5nIHRoZSBTREssIGFkZCB0aGUgcmVzb2x2ZSBhbmQgcmVqZWN0XG4gICAgLy8gZnVuY3Rpb25zIHRvIHRoZSBleGlzdGluZyBhcnJheSBvZiByZXF1ZXN0c1xuICAgIGlmIChyZXF1ZXN0c1t1cmxdKSB7XG4gICAgICByZXF1ZXN0c1t1cmxdLnB1c2goeyByZXNvbHZlLCByZWplY3QgfSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICByZXF1ZXN0c1t1cmxdID0gW3sgcmVzb2x2ZSwgcmVqZWN0IH1dXG4gICAgY29uc3Qgb25Mb2FkZWQgPSBzZGsgPT4ge1xuICAgICAgLy8gV2hlbiBsb2FkZWQsIHJlc29sdmUgYWxsIHBlbmRpbmcgcmVxdWVzdCBwcm9taXNlc1xuICAgICAgcmVxdWVzdHNbdXJsXS5mb3JFYWNoKHJlcXVlc3QgPT4gcmVxdWVzdC5yZXNvbHZlKHNkaykpXG4gICAgfVxuICAgIGlmIChzZGtSZWFkeSkge1xuICAgICAgY29uc3QgcHJldmlvdXNPblJlYWR5ID0gd2luZG93W3Nka1JlYWR5XVxuICAgICAgd2luZG93W3Nka1JlYWR5XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHByZXZpb3VzT25SZWFkeSkgcHJldmlvdXNPblJlYWR5KClcbiAgICAgICAgb25Mb2FkZWQoZ2V0R2xvYmFsKHNka0dsb2JhbCkpXG4gICAgICB9XG4gICAgfVxuICAgIGZldGNoU2NyaXB0KHVybCwgZXJyID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgLy8gTG9hZGluZyB0aGUgU0RLIGZhaWxlZCBcdTIwMTMgcmVqZWN0IGFsbCByZXF1ZXN0cyBhbmRcbiAgICAgICAgLy8gcmVzZXQgdGhlIGFycmF5IG9mIHJlcXVlc3RzIGZvciB0aGlzIFNES1xuICAgICAgICByZXF1ZXN0c1t1cmxdLmZvckVhY2gocmVxdWVzdCA9PiByZXF1ZXN0LnJlamVjdChlcnIpKVxuICAgICAgICByZXF1ZXN0c1t1cmxdID0gbnVsbFxuICAgICAgfSBlbHNlIGlmICghc2RrUmVhZHkpIHtcbiAgICAgICAgb25Mb2FkZWQoZ2V0R2xvYmFsKHNka0dsb2JhbCkpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn0pXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb25maWcgKHByb3BzLCBkZWZhdWx0UHJvcHMpIHtcbiAgcmV0dXJuIG1lcmdlKGRlZmF1bHRQcm9wcy5jb25maWcsIHByb3BzLmNvbmZpZylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9taXQgKG9iamVjdCwgLi4uYXJyYXlzKSB7XG4gIGNvbnN0IG9taXRLZXlzID0gW10uY29uY2F0KC4uLmFycmF5cylcbiAgY29uc3Qgb3V0cHV0ID0ge31cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdClcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgIGlmIChvbWl0S2V5cy5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICBvdXRwdXRba2V5XSA9IG9iamVjdFtrZXldXG4gICAgfVxuICB9XG4gIHJldHVybiBvdXRwdXRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGxQbGF5ZXIgKG1ldGhvZCwgLi4uYXJncykge1xuICAvLyBVdGlsIG1ldGhvZCBmb3IgY2FsbGluZyBhIG1ldGhvZCBvbiB0aGlzLnBsYXllclxuICAvLyBidXQgZ3VhcmQgYWdhaW5zdCBlcnJvcnMgYW5kIGNvbnNvbGUud2FybiBpbnN0ZWFkXG4gIGlmICghdGhpcy5wbGF5ZXIgfHwgIXRoaXMucGxheWVyW21ldGhvZF0pIHtcbiAgICBsZXQgbWVzc2FnZSA9IGBSZWFjdFBsYXllcjogJHt0aGlzLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lfSBwbGF5ZXIgY291bGQgbm90IGNhbGwgJWMke21ldGhvZH0lYyBcdTIwMTMgYFxuICAgIGlmICghdGhpcy5wbGF5ZXIpIHtcbiAgICAgIG1lc3NhZ2UgKz0gJ1RoZSBwbGF5ZXIgd2FzIG5vdCBhdmFpbGFibGUnXG4gICAgfSBlbHNlIGlmICghdGhpcy5wbGF5ZXJbbWV0aG9kXSkge1xuICAgICAgbWVzc2FnZSArPSAnVGhlIG1ldGhvZCB3YXMgbm90IGF2YWlsYWJsZSdcbiAgICB9XG4gICAgY29uc29sZS53YXJuKG1lc3NhZ2UsICdmb250LXdlaWdodDogYm9sZCcsICcnKVxuICAgIHJldHVybiBudWxsXG4gIH1cbiAgcmV0dXJuIHRoaXMucGxheWVyW21ldGhvZF0oLi4uYXJncylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTWVkaWFTdHJlYW0gKHVybCkge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIHdpbmRvdy5NZWRpYVN0cmVhbSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB1cmwgaW5zdGFuY2VvZiB3aW5kb3cuTWVkaWFTdHJlYW1cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCbG9iVXJsICh1cmwpIHtcbiAgcmV0dXJuIC9eYmxvYjovLnRlc3QodXJsKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydHNXZWJLaXRQcmVzZW50YXRpb25Nb2RlICh2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJykpIHtcbiAgLy8gQ2hlY2sgaWYgU2FmYXJpIHN1cHBvcnRzIFBpUCwgYW5kIGlzIG5vdCBvbiBtb2JpbGUgKG90aGVyIHRoYW4gaVBhZClcbiAgLy8gaVBob25lIHNhZmFyaSBhcHBlYXJzIHRvIFwic3VwcG9ydFwiIFBpUCB0aHJvdWdoIHRoZSBjaGVjaywgaG93ZXZlciBQaVAgZG9lcyBub3QgZnVuY3Rpb25cbiAgY29uc3Qgbm90TW9iaWxlID0gL2lQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpID09PSBmYWxzZVxuICByZXR1cm4gdmlkZW8ud2Via2l0U3VwcG9ydHNQcmVzZW50YXRpb25Nb2RlICYmIHR5cGVvZiB2aWRlby53ZWJraXRTZXRQcmVzZW50YXRpb25Nb2RlID09PSAnZnVuY3Rpb24nICYmIG5vdE1vYmlsZVxufVxuXG4vLyBXb3JrYXJvdW5kIGZvciBiZWluZyBhYmxlIHRvIHN0dWIgb3V0IGZ1bmN0aW9ucyBpbiBFU00gZXhwb3J0cy5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9lc2J1aWxkL2lzc3Vlcy80MTIjaXNzdWVjb21tZW50LTcyMzA0NzI1NVxuZnVuY3Rpb24gZW5hYmxlU3R1Yk9uIChmbikge1xuICBpZiAoZ2xvYmFsVGhpcy5fX1RFU1RfXykge1xuICAgIGNvbnN0IHdyYXAgPSAoLi4uYXJncykgPT4gd3JhcC5zdHViKC4uLmFyZ3MpXG4gICAgd3JhcC5zdHViID0gZm5cbiAgICByZXR1cm4gd3JhcFxuICB9XG4gIHJldHVybiBmblxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7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
